(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[921],{45644:function(e,t,n){Promise.resolve().then(n.bind(n,97537))},97537:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return em}});var a=n(57437),i=n(43792),s=n(2265),r=n(21258),o=n(72065),u=n(95964),l=n(57042),d=n(12522),p=n(55074),c=n(94660),y=n(43977),m=n(11554);let b=new p.M(820,m.od.soy.address,m.od.soy.decimals,m.od.soy.symbol,m.od.soy.name,m.od.soy.logoURI),h=new p.M(820,m.od.cloe.address,m.od.cloe.decimals,m.od.cloe.symbol,m.od.cloe.name,m.od.cloe.logoURI),f=new p.M(820,"0x8c5Bba04B2f5CCCe0f8F951D2DE9616BE190070D",18,"SLOFI","Sloth Finance Token","/images/all-tokens/SLOFI.svg"),x=(0,c.Ue)((e,t)=>({tokenFrom:b,tokenTo:f,setTokenFrom:t=>e({tokenFrom:t}),setTokenTo:t=>e({tokenTo:t}),switchTokens:()=>e({tokenFrom:t().tokenTo,tokenTo:t().tokenFrom})})),g=(0,c.Ue)((e,t)=>({amountIn:null,amountOut:null,amountInString:"",amountOutString:"",setAmountIn:(t,n)=>{let a={amountInString:t};return n?e({amountIn:(0,y.v)(t,n),...a}):e(a)},setAmountOut:(t,n)=>{let a={amountOutString:t};return n?e({amountOut:(0,y.v)(t,n),...a}):e(a)}})),v=(0,c.Ue)((e,t)=>({tokenFrom:b,tokenTo:f})),T=(0,c.Ue)((e,t)=>({amountIn:null,amountOut:null,amountInString:"",amountOutString:"",setAmountIn:(t,n)=>{let a={amountInString:t};return n?e({amountIn:(0,y.v)(t,n),...a}):e(a)},setAmountOut:(t,n)=>{let a={amountOutString:t};return n?e({amountOut:(0,y.v)(t,n),...a}):e(a)}})),w=(0,c.Ue)((e,t)=>({tokenFrom:b,tokenTo:f})),M=(0,c.Ue)((e,t)=>({amountIn:null,amountOut:null,amountInString:"",amountOutString:"",setAmountIn:(t,n)=>{let a={amountInString:t};return n?e({amountIn:(0,y.v)(t,n),...a}):e(a)},setAmountOut:(t,n)=>{let a={amountOutString:t};return n?e({amountOut:(0,y.v)(t,n),...a}):e(a)}}));var j=n(16691),S=n.n(j),N=n(38417),k=n(14841);function C(e){let{isActive:t,children:n,onClick:i}=e;return(0,a.jsxs)("button",{className:(0,l.Z)("duration-200 border h-10 flex justify-between px-5 items-center rounded-2 group hover:border-green",t?"border-green":"border-active-border"),onClick:i,children:[(0,a.jsx)("span",{children:n}),(0,a.jsx)("span",{className:(0,l.Z)("duration-200 w-6 h-6 rounded-full border flex items-center justify-center group-hover:border-green",t?"border-green":"border-active-border"),children:(0,a.jsx)("span",{className:(0,l.Z)("duration-200 w-3 h-3 rounded-full bg-green",t?"opacity-100":"opacity-0")})})]})}var O=n(16775);let I=[{type:"event",name:"Migrate",inputs:[{type:"address",name:"user",internalType:"address",indexed:!1},{type:"uint256",name:"soyAmount",internalType:"uint256",indexed:!1},{type:"uint256",name:"slothAmount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"MigrateCLOE",inputs:[{type:"address",name:"user",internalType:"address",indexed:!1},{type:"uint256",name:"cloeAmount",internalType:"uint256",indexed:!1},{type:"uint256",name:"slothAmount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{type:"address",name:"previousOwner",internalType:"address",indexed:!0},{type:"address",name:"newOwner",internalType:"address",indexed:!0}],anonymous:!1},{type:"event",name:"SetPeriod",inputs:[{type:"uint256",name:"period",internalType:"uint256",indexed:!1},{type:"uint256",name:"_periodEnd",internalType:"uint256",indexed:!1},{type:"uint256",name:"_soyRatio",internalType:"uint256",indexed:!1},{type:"uint256",name:"_cloeRatio",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"StakingFixRateMigration",inputs:[{type:"address",name:"user",internalType:"address",indexed:!1},{type:"uint256",name:"soyAmount",internalType:"uint256",indexed:!1},{type:"uint256",name:"slothAmount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"StakingMigrate",inputs:[{type:"address",name:"user",internalType:"address",indexed:!1},{type:"uint256",name:"rate",internalType:"uint256",indexed:!1},{type:"uint256",name:"migratedAmount",internalType:"uint256",indexed:!1},{type:"uint256",name:"reservedAmount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"CLOE",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"SOY",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"burnSoy",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"cloeRatio",inputs:[{type:"uint256",name:"",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"currentPeriod",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"rateSOY",internalType:"uint256"},{type:"uint256",name:"rateCLOE",internalType:"uint256"}],name:"getRates",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"isOwner",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"isPause",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"migrateCLOE",inputs:[{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"owner",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"periodEnd",inputs:[{type:"uint256",name:"",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"renounceOwnership",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"rescueERC20",inputs:[{type:"address",name:"token",internalType:"address"},{type:"address",name:"to",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setPause",inputs:[{type:"bool",name:"pause",internalType:"bool"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setPeriod",inputs:[{type:"uint256",name:"period",internalType:"uint256"},{type:"uint256",name:"_periodEnd",internalType:"uint256"},{type:"uint256",name:"_soyRatio",internalType:"uint256"},{type:"uint256",name:"_cloeRatio",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setSlothVesting",inputs:[{type:"address",name:"_slothVesting",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"slothVesting",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"soyRatio",inputs:[{type:"uint256",name:"",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"stakingContracts",inputs:[{type:"uint256",name:"",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"stakingMigrate",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint112",name:"migratedAmount",internalType:"uint112"},{type:"uint112",name:"reservedAmount",internalType:"uint112"},{type:"uint32",name:"rate",internalType:"uint32"}],name:"stakingRateReserved",inputs:[{type:"address",name:"user",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"startMigration",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bytes4",name:"",internalType:"bytes4"}],name:"tokenReceived",inputs:[{type:"address",name:"_from",internalType:"address"},{type:"uint256",name:"_value",internalType:"uint256"},{type:"bytes",name:"data",internalType:"bytes"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalCLOEMigrated",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSOYMigrated",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSlothMinted",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"transferOwnership",inputs:[{type:"address",name:"newOwner",internalType:"address"}]}];var R=n(61617),A=n(97126),Z=n(79037),F=n(93428),L=n(45233);let D="0x346984a5a13241dAf2587571Ce7D86cEA77bfB7e",E="0x70F340045613F86D6c5CEb787B5DA28B765c2470",P="0x98194aaA67638498547Df929DF4926C7D0DCD135";var _=n(17849),B=n(40095),U=n(28727),Y=n(13739),G=n(31937),V=n(32150),W=n(65763),$=n(59926);function q(){let{amountIn:e}=g(),{data:t}=(0,A.useBlockNumber)({watch:!0}),{tokenFrom:n}=x(),{address:i,chainId:r}=(0,Z.useAccount)(),{data:u,refetch:l}=(0,F.useBalance)({address:n?i:void 0,token:n.address});(0,s.useEffect)(()=>{l()},[t,l]);let{isAllowed:d,writeTokenApprove:p}=(0,R.Z)({token:h,contractAddress:D,amountToCheck:e}),{handleMigrateSOY:c,handleMigrateCLOE:y}=function(){let{tokenTo:e,tokenFrom:t,setTokenTo:n,setTokenFrom:a,switchTokens:i}=x(),{amountIn:r,amountInString:o,amountOutString:u,setAmountIn:l,setAmountOut:d}=g(),{setOpened:p,setClose:c,setSubmitted:y}=(0,U.p)(),{addTransaction:m}=(0,Y.L)(),{address:h,chainId:f}=(0,Z.useAccount)(),{data:v}=(0,G.useWalletClient)(),T=(0,V.usePublicClient)(),{data:w}=(0,L.useReadContract)({address:D,abi:I,functionName:"getRates"}),M=(0,s.useCallback)(async()=>{if(v&&h&&r&&t&&e&&f){p("Migrate ".concat((+(0,O.b)(r,t.decimals)).toLocaleString("en-US",{maximumFractionDigits:6})," ").concat(t.symbol," tokens"));try{let e={account:h,address:b.address,abi:_.R,functionName:"transfer",args:[D,r]},n=await T.estimateContractGas(e),{request:a}=await T.simulateContract({...e,gas:n+BigInt(3e4)}),i=await v.writeContract(a);i&&(m({account:h,hash:i,chainId:f,title:"Migrate ".concat((+(0,O.b)(r,t.decimals)).toLocaleString("en-US",{maximumFractionDigits:6})," ").concat(t.symbol," tokens")},h),y(i,f))}catch(e){console.log(e),(0,B.Z)("Something went wrong, try again later","error"),c()}}},[v,h,r,t,e,p,T,m,f,y,c]);return{handleMigrateCLOE:(0,s.useCallback)(async()=>{if(v&&h&&r&&t&&e&&f){p("Migrate ".concat((+(0,O.b)(r,t.decimals)).toLocaleString("en-US",{maximumFractionDigits:6})," ").concat(t.symbol," tokens"));try{let e={account:h,address:D,abi:I,functionName:"migrateCLOE",args:[r]};console.log(e);let n=await T.estimateContractGas(e),{request:a}=await T.simulateContract({...e,gas:n+BigInt(3e4)}),i=await v.writeContract(a);i&&(m({account:h,hash:i,chainId:f,title:"Migrate ".concat((+(0,O.b)(r,t.decimals)).toLocaleString("en-US",{maximumFractionDigits:6})," ").concat(t.symbol," tokens")},h),y(i,f))}catch(e){console.log(e),(0,B.Z)("Something went wrong, try again later","error"),c()}}},[v,h,r,t,e,p,T,m,f,y,c]),handleMigrateSOY:M}}();return((0,s.useEffect)(()=>{l()},[t,l]),e)?u?e>u.value?(0,a.jsx)(o.Z,{fullWidth:!0,disabled:!0,children:"Insufficient amount"}):n.symbol===b.symbol?(0,a.jsx)(o.Z,{fullWidth:!0,onClick:c,children:"Migrate"}):n.symbol===h.symbol?d?(0,a.jsxs)(o.Z,{fullWidth:!0,onClick:y,children:["Migrate ",n.symbol]}):(0,a.jsxs)(o.Z,{fullWidth:!0,onClick:p,children:["Approve ",n.symbol]}):void 0:(0,a.jsx)(o.Z,{fullWidth:!0,disabled:!0,children:"Loading..."}):(0,a.jsx)(o.Z,{fullWidth:!0,disabled:!0,children:"Enter amount to migrate"})}function K(){let{tokenTo:e,tokenFrom:t,setTokenFrom:n}=x(),{amountIn:i,amountInString:r,amountOutString:o,setAmountIn:u,setAmountOut:l}=g(),{data:d}=(0,L.useReadContract)({address:D,abi:I,functionName:"getRates"});(0,s.useEffect)(()=>{if(d&&i){let[e,n]=d;t.symbol===b.symbol&&l((0,O.b)(i/e,18),18),t.symbol===h.symbol&&l((0,O.b)(i/n,18),18)}i||l("")},[i,d,l,null==t?void 0:t.symbol]);let[p,c]=(0,s.useMemo)(()=>d||[void 0,void 0],[d]),[y,m]=(0,s.useState)(!1),v=(0,s.useMemo)(()=>{if(t.symbol===b.symbol&&!p||t.symbol===h.symbol&&!c)return"";let e=t.symbol===b.symbol?p:c,n=(1/Number(e)).toLocaleString("en-US",{maximumSignificantDigits:2});return y?"".concat(Number(e)," ").concat(t.symbol," = 1 SLOFI"):"".concat(n," SLOFI = 1 ").concat(t.symbol)},[c,y,p,t.symbol]);return(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("h2",{className:"mb-2.5 text-24 font-bold",children:"SLOTH Migration Portal"}),(0,a.jsx)("div",{className:"text-secondary-text mb-5 flex flex-col gap-2.5",children:"Migrated SLOFI tokens will be released at a rate of 5% per month after the 90-day lock-in period."}),(0,a.jsx)("h3",{className:"font-bold mb-2.5",children:"Asset to migrate"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2.5 mb-5",children:[(0,a.jsx)(C,{isActive:(null==t?void 0:t.address)===b.address,onClick:()=>{n(b)},children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(S(),{width:24,height:24,src:b.logoURI,alt:b.name}),b.symbol]})}),(0,a.jsx)(C,{isActive:(null==t?void 0:t.address)===h.address,onClick:()=>{n(h)},children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(S(),{width:24,height:24,src:h.logoURI,alt:h.name}),h.symbol]})})]}),(0,a.jsx)(N.Z,{label:"From ".concat(null==t?void 0:t.symbol),token:t,onPick:()=>{},amount:r,setAmount:e=>{u(e,b.decimals)},readonlyToken:!0}),(0,a.jsx)("div",{className:"my-2.5 xl:my-5 flex justify-center",children:(0,a.jsx)(k.Z,{disabled:!0,icon:"low"})}),(0,a.jsx)(N.Z,{readonly:!0,label:"To ".concat(null==e?void 0:e.symbol),token:f,onPick:()=>null,amount:o,setAmount:e=>{l(e,h.decimals)}}),(0,a.jsx)("div",{className:"mb-5"}),(0,a.jsx)($.Z,{label:"Current rate",value:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[v,(0,a.jsx)(W.Z,{onClick:()=>m(!y),icon:"swap",className:"rotate-90"})]})}),(0,a.jsx)("div",{className:"mb-5"}),(0,a.jsx)(q,{})]})}let z=[{type:"constructor",stateMutability:"nonpayable",inputs:[]},{type:"event",name:"Approval",inputs:[{type:"address",name:"owner",internalType:"address",indexed:!0},{type:"address",name:"spender",internalType:"address",indexed:!0},{type:"uint256",name:"value",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"AssignMinter",inputs:[{type:"address",name:"minter",internalType:"address",indexed:!1},{type:"bool",name:"status",internalType:"bool",indexed:!1}],anonymous:!1},{type:"event",name:"DelegateChanged",inputs:[{type:"address",name:"delegator",internalType:"address",indexed:!0},{type:"address",name:"fromDelegate",internalType:"address",indexed:!0},{type:"address",name:"toDelegate",internalType:"address",indexed:!0}],anonymous:!1},{type:"event",name:"DelegateVotesChanged",inputs:[{type:"address",name:"delegate",internalType:"address",indexed:!0},{type:"uint256",name:"previousBalance",internalType:"uint256",indexed:!1},{type:"uint256",name:"newBalance",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{type:"address",name:"previousOwner",internalType:"address",indexed:!0},{type:"address",name:"newOwner",internalType:"address",indexed:!0}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{type:"address",name:"from",internalType:"address",indexed:!0},{type:"address",name:"to",internalType:"address",indexed:!0},{type:"uint256",name:"value",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"TransferData",inputs:[{type:"bytes",name:"",internalType:"bytes",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"view",outputs:[{type:"bytes32",name:"",internalType:"bytes32"}],name:"DELEGATION_TYPEHASH",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bytes32",name:"",internalType:"bytes32"}],name:"DOMAIN_TYPEHASH",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"allowance",inputs:[{type:"address",name:"owner",internalType:"address"},{type:"address",name:"spender",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"approve",inputs:[{type:"address",name:"spender",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"assignMinter",inputs:[{type:"address",name:"_minter",internalType:"address"},{type:"bool",name:"_status",internalType:"bool"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"balanceOf",inputs:[{type:"address",name:"account",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint32",name:"fromBlock",internalType:"uint32"},{type:"uint256",name:"votes",internalType:"uint256"}],name:"checkpoints",inputs:[{type:"address",name:"",internalType:"address"},{type:"uint32",name:"",internalType:"uint32"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint8",name:"",internalType:"uint8"}],name:"decimals",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"decreaseAllowance",inputs:[{type:"address",name:"spender",internalType:"address"},{type:"uint256",name:"subtractedValue",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"delegate",inputs:[{type:"address",name:"delegatee",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"delegateBySig",inputs:[{type:"address",name:"delegatee",internalType:"address"},{type:"uint256",name:"nonce",internalType:"uint256"},{type:"uint256",name:"expiry",internalType:"uint256"},{type:"uint8",name:"v",internalType:"uint8"},{type:"bytes32",name:"r",internalType:"bytes32"},{type:"bytes32",name:"s",internalType:"bytes32"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"delegates",inputs:[{type:"address",name:"delegator",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"disableSetup",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"getCurrentVotes",inputs:[{type:"address",name:"account",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"getPriorVotes",inputs:[{type:"address",name:"account",internalType:"address"},{type:"uint256",name:"blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"increaseAllowance",inputs:[{type:"address",name:"spender",internalType:"address"},{type:"uint256",name:"addedValue",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"mint",inputs:[{type:"address",name:"_to",internalType:"address"},{type:"uint256",name:"_amount",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"minters",inputs:[{type:"address",name:"",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"string",name:"",internalType:"string"}],name:"name",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"nonces",inputs:[{type:"address",name:"",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint32",name:"",internalType:"uint32"}],name:"numCheckpoints",inputs:[{type:"address",name:"",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"owner",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"renounceOwnership",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"rescueERC20",inputs:[{type:"address",name:"token",internalType:"address"},{type:"address",name:"to",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"setup_mode",inputs:[]},{type:"function",stateMutability:"pure",outputs:[{type:"string",name:"",internalType:"string"}],name:"standard",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"string",name:"",internalType:"string"}],name:"symbol",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSupply",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"transfer",inputs:[{type:"address",name:"recipient",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"},{type:"bytes",name:"data",internalType:"bytes"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"transferFrom",inputs:[{type:"address",name:"sender",internalType:"address"},{type:"address",name:"recipient",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"transferOwnership",inputs:[{type:"address",name:"newOwner",internalType:"address"}]}];var H=n(74810);let J=(0,c.Ue)()((0,H.tJ)(e=>({date:null,setDate:t=>e({date:t})}),{name:"staking-migration-date"}));function X(){let{address:e,chainId:t}=(0,Z.useAccount)(),{data:n}=(0,G.useWalletClient)(),{amountIn:a}=M(),{tokenFrom:i}=w(),r=(0,V.usePublicClient)(),{setDate:o}=J(),[u,l]=(0,s.useState)(!1),{addTransaction:d}=(0,Y.L)(),{setOpened:p,setClose:c,setSubmitted:y}=(0,U.p)();return{handleMigrateStaking:(0,s.useCallback)(async()=>{if(!n||!e||!t)return;p("Staking migration"),l(!0);let a={account:e,abi:I,address:D,functionName:"stakingMigrate"};try{o(new Date(Date.now()));let i=await r.estimateContractGas(a),{request:s}=await r.simulateContract({...a,gas:i+BigInt(3e4)}),u=await n.writeContract(s);u&&(d({hash:u,chainId:t,title:"Staking migration",account:e},e),y(u,t)),await r.waitForTransactionReceipt({hash:u})}catch(e){e.shortMessage?e.shortMessage.split(":")[1]?(0,B.Z)("Error: ".concat(e.shortMessage.split(":")[1]),"error"):(0,B.Z)(e.shortMessage,"error"):(0,B.Z)("Something went wrong, try again later"),c()}finally{l(!1)}},[d,e,t,r,o,p,y,n]),handleMigrateRateStaking:(0,s.useCallback)(async()=>{if(!n||!e||!a)return;let t={account:e,abi:z,address:i.address,functionName:"transfer",args:[D,a,"0x7374616B696E67466978526174654D6967726174696F6E"]};try{let e=await r.estimateContractGas(t),{request:a}=await r.simulateContract({...t,gas:e+BigInt(3e4)});await n.writeContract(a)}catch(e){console.log(e)}},[e,a,r,i.address,n]),loadingNoRate:u}}var Q=n(75874);let ee=e=>{let t=new Date(e).getTime(),[n,a]=(0,s.useState)(t-new Date().getTime());return(0,s.useEffect)(()=>{let e=setInterval(()=>{a(t-new Date().getTime()),Date.now()-t>0&&clearInterval(e)},1e3);return()=>clearInterval(e)},[t]),en(n)};function et(e){return String(e).padStart(2,"0")}let en=e=>{let t=et(Math.floor(e/864e5));return[t,et(Math.floor(e%864e5/36e5)),et(Math.floor(e%36e5/6e4)),et(Math.floor(e%6e4/1e3))]};var ea=n(22527),ei=n(19607);function es(){let{handleMigrateStaking:e,loadingNoRate:t}=X();return(0,a.jsx)(o.Z,{fullWidth:!0,onClick:e,loading:t,children:"Migrate Staking"})}function er(){let{handleMigrateRateStaking:e}=X();return(0,a.jsx)(o.Z,{fullWidth:!0,onClick:e,children:"Migrate Staking"})}function eo(){let{address:e,chainId:t}=(0,Z.useAccount)(),{tokenTo:n,tokenFrom:i}=w(),{amountIn:r,amountInString:o,amountOutString:u,setAmountIn:l,setAmountOut:p}=M(),{date:c}=J(),{data:y}=(0,A.useBlockNumber)({watch:!0}),{data:h,isLoading:x,refetch:g}=(0,L.useReadContract)({abi:I,functionName:"stakingRateReserved",address:D,args:[e],query:{enabled:!!e}});(0,s.useEffect)(()=>{g()},[y,g]);let[v]=ee((0,s.useMemo)(()=>{if(!c)return new Date(Date.now());let e=new Date(c),[t,n]=[e.getDate(),e.getMonth()];return new Date(2024,n,t,23,59,59,0)},[c])),T=(0,s.useMemo)(()=>0>+v,[v]),[j,C,R]=(0,s.useMemo)(()=>h||[void 0,void 0,void 0],[h]),[F,E]=(0,s.useState)(!1),P=(0,s.useMemo)(()=>{let e=(1/Number(R)).toLocaleString("en-US",{maximumSignificantDigits:2});return F?"".concat(Number(R)," ").concat(i.symbol," = 1 SLOFI"):"".concat(e," SLOFI = 1 ").concat(i.symbol)},[R,F,i.symbol]);return((0,s.useEffect)(()=>{if(r&&R){let e=r/BigInt(R);p((0,O.b)(e,18),18)}r||p("")},[r,R,p]),x)?(0,a.jsx)("div",{className:"p-10 flex justify-center items-center",children:(0,a.jsx)(ei.Z,{size:100})}):R?!C&&j?(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("h2",{className:"text-24 font-bold mb-2.5",children:"Staking migration SOY to SLOFI"}),(0,a.jsx)("div",{className:"flex justify-center items-center my-5",children:(0,a.jsx)("div",{className:"bg-green/20 rounded-full flex justify-center items-center w-[120px] h-[120px]",children:(0,a.jsx)("div",{className:"text-white bg-green rounded-full flex justify-center items-center w-[87px] h-[87px]",children:(0,a.jsx)(d.Z,{iconName:"check",size:64})})})}),(0,a.jsxs)("p",{className:"text-secondary-text text-center",children:[(0,Q.$)((0,O.b)(j,18))," SOY have been migrated to ",(0,Q.$)((0,O.b)(j/BigInt(R),18))," SLOFI from staking."]})]}):j||C?R&&!T?(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("h2",{className:"text-24 font-bold mb-2.5",children:"Staking migration SOY to SLOFI"}),(0,a.jsx)("div",{className:"flex justify-center items-center my-5",children:(0,a.jsx)("div",{className:"bg-green/20 rounded-full flex justify-center items-center w-[120px] h-[120px]",children:(0,a.jsx)("div",{className:"text-white bg-green rounded-full flex justify-center items-center w-[87px] h-[87px]",children:(0,a.jsx)(d.Z,{iconName:"check",size:64})})})}),(0,a.jsxs)("p",{className:"text-secondary-text text-center",children:[(0,a.jsxs)("b",{children:[(0,Q.$)((0,O.b)(j,18))," SOY"]})," were migrated to ",(0,a.jsxs)("b",{children:[(0,Q.$)((0,O.b)(j/BigInt(R),18))," SLOFI"]}),". ",(0,Q.$)((0,O.b)(C,18))," SOY were reserved with rate ",R," SOY per SLOFI. You can migrate reserved tokens when you'll receive it from staking."]})]}):(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("h2",{className:"mb-2.5 text-24 font-bold",children:"Staking migration SOY to SLOFI"}),(0,a.jsx)("p",{className:"text-secondary-text mb-5",children:"Migrated SLOFI tokens will be released at a rate of 5% per month after the 90-day lock-in period."}),(0,a.jsx)(N.Z,{label:"From ".concat(null==i?void 0:i.symbol),token:i,onPick:()=>{},amount:o,setAmount:e=>{l(e,b.decimals)},readonlyToken:!0}),(0,a.jsx)("div",{className:"my-2.5 xl:my-5 flex justify-center",children:(0,a.jsx)(k.Z,{disabled:!0,icon:"low"})}),(0,a.jsx)(N.Z,{readonly:!0,label:"To ".concat(null==n?void 0:n.symbol),token:f,onPick:()=>null,amount:u,setAmount:()=>null}),(0,a.jsx)("div",{className:"mb-5"}),(0,a.jsx)($.Z,{label:"Locked rate",value:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[P,(0,a.jsx)(W.Z,{onClick:()=>E(!F),icon:"swap",className:"rotate-90"})]})}),(0,a.jsx)("div",{className:"mb-5"}),(0,a.jsx)(er,{})]}):(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("h2",{className:"text-24 font-bold mb-2.5",children:"Staking migration SOY to SLOFI"}),(0,a.jsx)("div",{className:"flex justify-center items-center my-5",children:(0,a.jsx)(ea.Z,{iconName:"soy"})}),(0,a.jsx)("p",{className:"text-secondary-text text-center",children:"You don't have SOY on staking. Use direct migration."})]}):(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("h2",{className:"text-24 font-bold mb-2.5",children:"Staking migration SOY to SLOFI"}),(0,a.jsx)("p",{children:"You can migrate SOY that are locked on staking"}),(0,a.jsxs)("div",{className:"flex justify-center gap-5 my-5 items-center",children:[(0,a.jsx)(S(),{width:100,height:100,src:m.od.soy.logoURI,alt:""}),(0,a.jsx)("div",{className:"bg-secondary-bg rounded-full w-10 h-10 flex justify-center items-center",children:(0,a.jsx)(d.Z,{iconName:"arrow-right"})}),(0,a.jsx)(S(),{width:100,height:100,src:f.logoURI,alt:""})]}),(0,a.jsx)(es,{})]})}let eu=[{type:"event",name:"Migrate",inputs:[{type:"address",name:"user",internalType:"address",indexed:!1},{type:"uint256",name:"soyAmount",internalType:"uint256",indexed:!1},{type:"uint256",name:"slothAmount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{type:"address",name:"previousOwner",internalType:"address",indexed:!0},{type:"address",name:"newOwner",internalType:"address",indexed:!0}],anonymous:!1},{type:"event",name:"SetPeriod",inputs:[{type:"uint256",name:"endMigration",internalType:"uint256",indexed:!1},{type:"uint256",name:"soyRatio",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"SOY",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"addReserved",inputs:[{type:"address[]",name:"users",internalType:"address[]"},{type:"uint256[]",name:"amounts",internalType:"uint256[]"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"endMigration",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"isOwner",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"isPause",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"owner",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"renounceOwnership",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"rescueERC20",inputs:[{type:"address",name:"token",internalType:"address"},{type:"address",name:"to",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"amount",internalType:"uint256"}],name:"reserved",inputs:[{type:"address",name:"user",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setPause",inputs:[{type:"bool",name:"pause",internalType:"bool"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setPeriod",inputs:[{type:"uint256",name:"_endMigration",internalType:"uint256"},{type:"uint256",name:"_soyRatio",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setSlothVesting",inputs:[{type:"address",name:"_slothVesting",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"slothVesting",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"soyRatio",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"startMigration",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bytes4",name:"",internalType:"bytes4"}],name:"tokenReceived",inputs:[{type:"address",name:"_from",internalType:"address"},{type:"uint256",name:"_value",internalType:"uint256"},{type:"bytes",name:"",internalType:"bytes"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSlothMinted",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSoyReserved",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"transferOwnership",inputs:[{type:"address",name:"newOwner",internalType:"address"}]}];function el(){let{amountIn:e,amountInString:t,amountOutString:n,setAmountIn:i,setAmountOut:r}=T(),{address:u,chainId:l}=(0,Z.useAccount)(),{data:d}=(0,A.useBlockNumber)({watch:!0}),{data:p,refetch:c}=(0,L.useReadContract)({address:E,abi:eu,functionName:"reserved",args:[u],query:{enabled:!!u}}),{handleMigrateSOY:y}=function(){let{tokenTo:e,tokenFrom:t}=v(),{amountIn:n,amountInString:a,amountOutString:i,setAmountIn:r,setAmountOut:o}=T(),{setOpened:u,setClose:l,setSubmitted:d}=(0,U.p)(),{addTransaction:p}=(0,Y.L)(),{address:c,chainId:y}=(0,Z.useAccount)(),{data:m}=(0,G.useWalletClient)(),h=(0,V.usePublicClient)();return{handleMigrateSOY:(0,s.useCallback)(async()=>{if(m&&c&&n&&t&&e&&y){u("Migrate ".concat((+(0,O.b)(n,t.decimals)).toLocaleString("en-US",{maximumFractionDigits:6})," ").concat(t.symbol," tokens"));try{let e={account:c,address:b.address,abi:_.R,functionName:"transfer",args:[E,n]},a=await h.estimateContractGas(e),{request:i}=await h.simulateContract({...e,gas:a+BigInt(3e4)}),s=await m.writeContract(i);s&&(p({account:c,hash:s,chainId:y,title:"Migrate ".concat((+(0,O.b)(n,t.decimals)).toLocaleString("en-US",{maximumFractionDigits:6})," ").concat(t.symbol," IDO tokens")},c),d(s,y))}catch(e){console.log(e),(0,B.Z)("Something went wrong, try again later","error"),l()}}},[m,c,n,t,e,u,h,p,y,d,l])}}();return((0,s.useEffect)(()=>{c()},[d,c]),e)?!p||e>p?(0,a.jsx)(o.Z,{disabled:!0,fullWidth:!0,children:"Insufficient balance"}):(0,a.jsx)(o.Z,{fullWidth:!0,onClick:y,children:"Migrate from IDO"}):(0,a.jsx)(o.Z,{disabled:!0,fullWidth:!0,children:"Enter amount to migrate"})}function ed(){let{tokenTo:e,tokenFrom:t}=v(),{amountIn:n,amountInString:i,amountOutString:r,setAmountIn:o,setAmountOut:u}=T(),{address:l,chainId:d}=(0,Z.useAccount)(),{data:p}=(0,A.useBlockNumber)({watch:!0}),{data:c,refetch:y}=(0,L.useReadContract)({address:E,abi:eu,functionName:"reserved",args:[l],query:{enabled:!!l}}),h=(0,F.useBalance)({address:l,token:m.od.soy.address});(0,s.useEffect)(()=>{y()},[p,y]),(0,s.useEffect)(()=>{if(n){let e=n/BigInt(100);u((0,O.b)(e,18),18)}n||u("")},[n,u]);let[x,g]=(0,s.useState)(!1),w=(0,s.useMemo)(()=>{let e=(1/Number(100)).toLocaleString("en-US",{maximumSignificantDigits:2});return x?"".concat(Number(100)," SOY = 1 SLOFI"):"".concat(e," SLOFI = 1 SOY")},[x]);return(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("h2",{className:"mb-2.5 text-24 font-bold",children:"IDO migration SOY to SLOFI"}),(0,a.jsxs)("p",{className:"text-secondary-text mb-5",children:["You have ",h.data?(0,Q.$)((0,O.b)(h.data.value,18)):0," SOY, you can migrate up to ",c?(0,Q.$)((0,O.b)(c,18)):0," SOY by rate ",100," SOY per SLOFI."]}),(0,a.jsx)(N.Z,{label:"From ".concat(null==t?void 0:t.symbol),token:t,onPick:()=>{},amount:i,setAmount:e=>{o(e,b.decimals)},readonlyToken:!0,balance:c}),(0,a.jsx)("div",{className:"my-2.5 xl:my-5 flex justify-center",children:(0,a.jsx)(k.Z,{disabled:!0,icon:"low"})}),(0,a.jsx)(N.Z,{readonly:!0,label:"To ".concat(null==e?void 0:e.symbol),token:f,onPick:()=>null,amount:r,setAmount:()=>null}),(0,a.jsx)("div",{className:"mb-5"}),(0,a.jsx)($.Z,{label:"IDO migration rate",value:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[w,(0,a.jsx)(W.Z,{onClick:()=>g(!x),icon:"swap",className:"rotate-90"})]})}),(0,a.jsx)("div",{className:"mb-5"}),(0,a.jsx)(el,{})]})}var ep=n(7018);let ec=[{type:"constructor",stateMutability:"nonpayable",inputs:[{type:"address",name:"_depositor",internalType:"address"}]},{type:"event",name:"AddAllocation",inputs:[{type:"address",name:"to",internalType:"address",indexed:!0},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1},{type:"uint256",name:"startVesting",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"Claim",inputs:[{type:"address",name:"beneficiary",internalType:"address",indexed:!0},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1},{type:"uint256",name:"reward",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{type:"address",name:"previousOwner",internalType:"address",indexed:!0},{type:"address",name:"newOwner",internalType:"address",indexed:!0}],anonymous:!1},{type:"event",name:"Rescue",inputs:[{type:"address",name:"_token",internalType:"address",indexed:!1},{type:"uint256",name:"_amount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"SetDepositor",inputs:[{type:"address",name:"depositor",internalType:"address",indexed:!1},{type:"bool",name:"enable",internalType:"bool",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"EndReward",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"allocateTokens",inputs:[{type:"address",name:"to",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"amount",internalType:"uint256"},{type:"uint256",name:"startVesting",internalType:"uint256"},{type:"uint256",name:"lastClaimed",internalType:"uint256"},{type:"uint256",name:"alreadyClaimed",internalType:"uint256"}],name:"beneficiaries",inputs:[{type:"address",name:"",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"claim",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"claimBehalf",inputs:[{type:"address",name:"beneficiary",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"depositors",inputs:[{type:"address",name:"",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"unlockedAmount",internalType:"uint256"},{type:"uint256",name:"reward",internalType:"uint256"}],name:"getUnlockedAmount",inputs:[{type:"address",name:"beneficiary",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"owner",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"renounceOwnership",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"rescueTokens",inputs:[{type:"address",name:"_token",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setDepositor",inputs:[{type:"address",name:"depositor",internalType:"address"},{type:"bool",name:"enable",internalType:"bool"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setVestingParameters",inputs:[{type:"uint256",name:"_vestingPercentage",internalType:"uint256"},{type:"uint256",name:"_vestingInterval",internalType:"uint256"},{type:"uint256",name:"_vestingPeriod",internalType:"uint256"},{type:"uint256",name:"_vestingAPR",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalAPR",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalAllocated",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalClaimed",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"transferOwnership",inputs:[{type:"address",name:"newOwner",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"vestingAPR",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"vestingInterval",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"vestingPercentage",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"vestingPeriod",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"vestingToken",inputs:[]}];var ey=n(57194);function em(){(0,u.Z)();let[e,t]=(0,s.useState)(0),{address:n,isConnected:p,chainId:c}=(0,Z.useAccount)(),{data:y}=(0,G.useWalletClient)(),m=(0,V.usePublicClient)(),{addTransaction:b}=(0,Y.L)(),{switchChain:h}=(0,ep.useSwitchChain)(),{data:f}=(0,A.useBlockNumber)({watch:!0}),{data:x,refetch:g}=(0,L.useReadContract)({abi:ec,functionName:"beneficiaries",address:P,args:[n],query:{enabled:!!n}}),{data:v,refetch:T}=(0,L.useReadContract)({abi:ec,functionName:"getUnlockedAmount",address:P,args:[n],query:{enabled:!!n}});(0,s.useEffect)(()=>{g(),T()},[g,T,f]);let[w,M,j,S]=(0,s.useMemo)(()=>x||[void 0,void 0,void 0,void 0],[x]);console.log(S);let[N,k]=(0,s.useMemo)(()=>v||[BigInt(0),BigInt(0)],[v]),{setIsOpened:C}=(0,ey._)(),{setOpened:I,setClose:R,setSubmitted:F}=(0,U.p)(),D=(0,s.useCallback)(async()=>{if(!y||!n||!c)return;I("Claim ".concat((0,Q.$)((0,O.b)(N+k,18))," SLOFI"));let e={address:P,account:n,abi:ec,functionName:"claim"};try{let t=await m.estimateContractGas(e),{request:a}=await m.simulateContract({...e,gas:t+BigInt(3e4)}),i=await y.writeContract(a);i&&(b({account:n,hash:i,chainId:c,title:"Claimed ".concat((0,Q.$)((0,O.b)(N+k,18))," SLOFI")},n),F(i,c),await m.waitForTransactionReceipt({hash:i}))}catch(e){console.log(e),R(),(0,B.Z)("Unexpected error, please contact support","error")}},[b,n,c,m,k,R,I,F,N,y]);return p?820!==c?(0,a.jsx)(i.Z,{children:(0,a.jsx)("div",{className:"w-full md:w-[640px] mx-auto my-5",children:(0,a.jsx)(r.Z,{children:(0,a.jsxs)("div",{className:"min-h-[400px] flex flex-col justify-center items-center gap-5",children:[(0,a.jsx)(ea.Z,{iconName:"network"}),(0,a.jsx)("h2",{className:"bold text-16 lg:text-20",children:"Migration is not supported via this chain"}),(0,a.jsx)(o.Z,{onClick:()=>h({chainId:820}),children:"Switch to Callisto"})]})})})}):(0,a.jsxs)(i.Z,{children:[(0,a.jsx)("div",{className:"w-full md:w-[640px] mx-auto sm:mt-5",children:(0,a.jsx)(r.Z,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,a.jsxs)("div",{className:"flex items-center border border-l-orange border-primary-border border-l-4 px-5 py-2 gap-2 rounded-2 flex-wrap",children:[(0,a.jsx)(d.Z,{className:"text-orange",iconName:"lock"}),(0,a.jsx)("span",{className:"text-secondary-text",children:"Locked:"})," ",(0,a.jsxs)("span",{className:"font-bold",children:[w?(0,Q.$)((0,O.b)(w-S,18)):0," SLOFI"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between border border-l-green border-primary-border border-l-4 px-5 py-2 rounded-2 gap-2 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)(d.Z,{className:"text-green",iconName:"coins"}),(0,a.jsx)("span",{className:"text-secondary-text",children:"SLOFI available:"})," ",(0,a.jsxs)("span",{className:"font-bold",children:[(0,Q.$)((0,O.b)(k+N,18))||0," SLOFI"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2 flex-wrap",children:[(0,a.jsx)(d.Z,{className:"text-green",iconName:"calculate"}),(0,a.jsx)("span",{className:"text-secondary-text",children:"Including rewards of APR:"})," ",(0,a.jsxs)("span",{className:"font-bold",children:[(0,Q.$)((0,O.b)(k,18))||0," SLOFI"]})]})]}),(0,a.jsx)("div",{className:"w-full sm:w-auto",children:(0,a.jsx)(o.Z,{fullWidth:!0,onClick:D,disabled:k+N===BigInt(0),variant:"outlined",children:"Claim"})})]}),(0,a.jsxs)("div",{className:"flex items-center border border-l-blue border-primary-border border-l-4 px-5 py-2 gap-2 rounded-2 flex-wrap",children:[(0,a.jsx)(d.Z,{className:"text-blue",iconName:"calendar"}),(0,a.jsx)("span",{className:"text-secondary-text",children:"Next release date:"})," ",(0,a.jsx)("span",{className:"font-bold",children:M?new Date(1e3*Number(M)+7776e6).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric"}):"â€”"})]})]})})}),(0,a.jsx)("div",{className:"w-full md:w-[640px] mx-auto my-5",children:(0,a.jsxs)("div",{className:"bg-primary-bg sm:rounded-5 border-y sm:border border-primary-border overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{className:(0,l.Z)("flex-1 h-10 w-full text-primary-text text-16 border-primary-border border-r",0===e?"bg-primary-bg":"bg-secondary-bg border-b"),onClick:()=>t(0),children:["Direct ",(0,a.jsx)("span",{className:"hidden md:inline",children:"migration"})]}),(0,a.jsxs)("button",{className:(0,l.Z)("flex-1 h-10 w-full text-primary-text text-16 border-primary-border border-r",1===e?"bg-primary-bg":"bg-secondary-bg border-b"),onClick:()=>t(1),children:["Staking ",(0,a.jsx)("span",{className:"hidden md:inline",children:"migration"})]}),(0,a.jsxs)("button",{className:(0,l.Z)("flex-1 h-10 w-full text-primary-text text-16 border-primary-border",2===e?"bg-primary-bg":"bg-secondary-bg border-b"),onClick:()=>t(2),children:["IDO ",(0,a.jsx)("span",{className:"hidden md:inline",children:"migration"})]})]}),0===e&&(0,a.jsx)(K,{}),1===e&&(0,a.jsx)(eo,{}),2===e&&(0,a.jsx)(ed,{})]})})]}):(0,a.jsx)(i.Z,{children:(0,a.jsx)("div",{className:"w-full md:w-[640px] mx-auto my-5",children:(0,a.jsx)(r.Z,{children:(0,a.jsxs)("div",{className:"min-h-[400px] flex flex-col justify-center items-center gap-5",children:[(0,a.jsx)(ea.Z,{iconName:"wallet"}),(0,a.jsx)("h2",{className:"bold text-16 lg:text-20",children:"Connect your wallet to proceed"}),(0,a.jsx)(o.Z,{onClick:()=>C(!0),children:"Connect wallet"})]})})})})}},59926:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57437);function i(e){let{label:t,value:n}=e;return(0,a.jsxs)("div",{className:"text-12 xl:text-14 leading-[18px] flex justify-between items-center text-secondary-text",children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("span",{className:"text-primary-text",children:n})]})}n(2265)},21258:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57437);function i(e){let{children:t}=e;return(0,a.jsx)("div",{className:"sm:rounded-5 p-4 sm:p-5 border-y sm:border border-primary-border bg-primary-bg",children:t})}},65763:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(57437),i=n(12522);function s(e){let{icon:t,className:n,...s}=e;return(0,a.jsx)("button",{...s,className:"\n    w-5\n    h-5\n    rounded-full\n    bg-transparent\n    text-green\n    hover:text-green-saturated\n    flex\n    items-center\n    justify-center\n    duration-200\n    relative\n    after:absolute\n    after:w-10\n    after:h-10\n    after:left-1/2\n    after:top-1/2\n    after:-translate-x-1/2\n    after:-translate-y-1/2\n    ".concat(n,"\n  "),children:(0,a.jsx)(i.Z,{size:20,iconName:t})})}},61617:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(79037),i=n(32150),s=n(31937),r=n(45233),o=n(97126),u=n(17849),l=n(84539),d=n(16775),p=n(2265),c=n(40095),y=n(13739),m=n(28727);function b(e){let{token:t,contractAddress:n,amountToCheck:b}=e,{address:h}=(0,a.useAccount)(),f=(0,i.usePublicClient)(),{data:x}=(0,s.useWalletClient)(),{addTransaction:g}=(0,y.L)(),{chainId:v}=(0,a.useAccount)(),{setOpened:T,setSubmitted:w,setClose:M}=(0,m.p)(),j=(0,r.useReadContract)({abi:u.R,address:null==t?void 0:t.address,functionName:"allowance",args:[h,n],query:{enabled:!!(null==t?void 0:t.address)&&!(0,l.M)((null==t?void 0:t.address)||"")&&!!h&&!!n}}),{data:S}=(0,o.useBlockNumber)({watch:!0});(0,p.useEffect)(()=>{j.refetch()},[j,S]);let N=(0,p.useMemo)(()=>!!t&&(!!(0,l.M)(t.address)||null!=j&&!!j.data&&!!b&&j.data>=b),[b,null==j?void 0:j.data,t]),[k,C]=(0,p.useState)(!1);return{isAllowed:N,isApproving:k,writeTokenApprove:(0,p.useCallback)(async()=>{if(!b||!n||!t||!x||!h||!v)return;C(!0),T("Approve ".concat((0,d.b)(b,t.decimals)," ").concat(t.symbol," tokens"));let e={address:t.address,account:h,abi:u.R,functionName:"approve",args:[n,b]};try{let n=await f.estimateContractGas(e),{request:a}=await f.simulateContract({...e,gas:n+BigInt(3e4)}),i=await x.writeContract(a);i&&(g({account:h,hash:i,chainId:v,title:"Approve ".concat((0,d.b)(b,t.decimals)," ").concat(t.symbol," tokens")},h),w(i,v),await f.waitForTransactionReceipt({hash:i}),C(!1))}catch(e){console.log(e),M(),C(!1),(0,c.Z)("Unexpected error, please contact support","error")}},[g,h,b,v,n,t,f,M,T,w,x])}}},77470:function(e,t,n){"use strict";n.d(t,{R:function(){return o},m:function(){return r}});var a=n(17987),i=n(99024),s=n(11640),r=class extends i.F{constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.defaultOptions,this.#t=e.mutationCache,this.#n=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}#n;#e;#t;#a;setOptions(e){this.options={...this.#e,...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#n.includes(e)||(this.#n.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#n=this.#n.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#n.length||("pending"===this.state.status?this.scheduleGc():this.#t.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){let t="pending"===this.state.status;try{if(!t){this.#i({type:"pending",variables:e}),await this.#t.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#i({type:"pending",context:t,variables:e})}let n=await (this.#a=(0,s.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#i({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.#a.promise);return await this.#t.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#i({type:"success",data:n}),n}catch(t){try{throw await this.#t.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#t.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#i({type:"error",error:t})}}}#i(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!(0,s.Kw)(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),a.V.batch(()=>{this.#n.forEach(t=>{t.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},99024:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var a=n(40300),i=class{#s;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,a.PN)(this.gcTime)&&(this.#s=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(a.sk?1/0:3e5))}clearGcTimeout(){this.#s&&(clearTimeout(this.#s),this.#s=void 0)}}},23588:function(e,t,n){"use strict";n.d(t,{D:function(){return p}});var a=n(2265),i=n(77470),s=n(17987),r=n(42996),o=n(40300),u=class extends r.l{constructor(e,t){super(),this.#r=void 0,this.#o=e,this.setOptions(t),this.bindMethods(),this.#u()}#o;#r;#l;#d;bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#o.defaultMutationOptions(e),(0,o.VS)(t,this.options)||this.#o.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#l,observer:this}),this.#l?.setOptions(this.options),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)&&this.reset()}onUnsubscribe(){this.hasListeners()||this.#l?.removeObserver(this)}onMutationUpdate(e){this.#u(),this.#p(e)}getCurrentResult(){return this.#r}reset(){this.#l?.removeObserver(this),this.#l=void 0,this.#u(),this.#p()}mutate(e,t){return this.#d=t,this.#l?.removeObserver(this),this.#l=this.#o.getMutationCache().build(this.#o,this.options),this.#l.addObserver(this),this.#l.execute(e)}#u(){let e=this.#l?.state??(0,i.R)();this.#r={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#p(e){s.V.batch(()=>{if(this.#d&&this.hasListeners()){let t=this.#r.variables,n=this.#r.context;e?.type==="success"?(this.#d.onSuccess?.(e.data,t,n),this.#d.onSettled?.(e.data,null,t,n)):e?.type==="error"&&(this.#d.onError?.(e.error,t,n),this.#d.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach(e=>{e(this.#r)})})}},l=n(38038),d=n(14805);function p(e,t){let n=(0,l.NL)(t),[i]=a.useState(()=>new u(n,e));a.useEffect(()=>{i.setOptions(e)},[i,e]);let r=a.useSyncExternalStore(a.useCallback(e=>i.subscribe(s.V.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=a.useCallback((e,t)=>{i.mutate(e,t).catch(c)},[i]);if(r.error&&(0,d.L)(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:o,mutateAsync:r.mutate}}function c(){}},7018:function(e,t,n){"use strict";n.r(t),n.d(t,{useSwitchChain:function(){return u}});var a=n(23588),i=n(76026),s=n(29358);async function r(e,t){let{chainId:n}=t,a=e.state.connections.get(t.connector?.uid??e.state.current);if(a){let e=a.connector;if(!e.switchChain)throw new s.O({connector:e});return await e.switchChain({chainId:n})}let r=e.chains.find(e=>e.id===n);if(!r)throw new i.X4;return e.setState(e=>({...e,chainId:n})),r}var o=n(41012);function u(e={}){let{mutation:t}=e,n=(0,o.useConfig)(e),{mutate:i,mutateAsync:s,...u}=(0,a.D)({...t,mutationFn:e=>r(n,e),mutationKey:["switchChain"]});return{...u,chains:n.chains,switchChain:i,switchChainAsync:s}}}},function(e){e.O(0,[743,780,878,739,417,971,938,744],function(){return e(e.s=45644)}),_N_E=e.O()}]);